class DynamicAdapt{elementsArray=[];daClassname="_dynamic_adapt_";constructor(e){this.type=e}init(){this.elements=[...document.querySelectorAll("[data-da]")],this.elements.forEach(e=>{const t=e.dataset.da.trim();if(""!==t){const i=t.split(","),r={};r.element=e,r.parent=e.parentNode,r.destination=document.querySelector("."+i[0].trim()),r.breakpoint=i[1]?i[1].trim():"767",r.place=i[2]?i[2].trim():"last",r.index=this.indexInParent(r.parent,r.element),this.elementsArray.push(r)}}),this.arraySort(this.elementsArray),this.mediaArray=this.elementsArray.map(({breakpoint:e})=>`(${this.type}-width: ${e}px),${e}`).filter((e,t,i)=>i.indexOf(e)===t),this.mediaArray.forEach(e=>{const t=e.split(","),i=window.matchMedia(t[0]),r=t[1],s=this.elementsArray.filter(({breakpoint:e})=>e===r);i.addEventListener("change",()=>{this.mediaHandler(i,s)}),this.mediaHandler(i,s)})}mediaHandler(e,t){e.matches?t.forEach(e=>{e.index=this.indexInParent(e.parent,e.element),this.moveTo(e.place,e.element,e.destination)}):t.forEach(({parent:e,element:t,index:i})=>{t.classList.contains(this.daClassname)&&this.moveBack(e,t,i)})}moveTo(e,t,i){t.classList.add(this.daClassname),"last"===e||e>=i.children.length?i.append(t):"first"!==e?i.children[e].before(t):i.prepend(t)}moveBack(e,t,i){t.classList.remove(this.daClassname),void 0!==e.children[i]?e.children[i].before(t):e.append(t)}indexInParent(e,t){return[...e.children].indexOf(t)}arraySort(e){"min"===this.type?e.sort((e,t)=>e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?-1:"last"===e.place||"first"===t.place?1:e.place-t.place:e.breakpoint-t.breakpoint):e.sort((e,t)=>e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?1:"last"===e.place||"first"===t.place?-1:t.place-e.place:t.breakpoint-e.breakpoint)}}const da=new DynamicAdapt("max");da.init();let sliders=document.querySelectorAll("._swiper");if(sliders){for(let e=0;e<sliders.length;e++){let t=sliders[e];if(!t.classList.contains("swiper-container")){let e=t.children;if(e)for(let t=0;t<e.length;t++){e[t].classList.add("swiper-slide")}let i=t.innerHTML,r=document.createElement("div");r.classList.add("swiper-wrapper"),r.innerHTML=i,t.innerHTML="",t.appendChild(r),t.classList.add("swiper-container")}t.classList.contains("_gallery")}sliders_bild_callback()}function sliders_bild_callback(e){}if(document.querySelector(".main-slider")){new Swiper(".main-slider__body",{loop:!0,speed:800,breakpoints:{320:{navigation:{nextEl:".main-slider__button-next",prevEl:".main-slider__button-prev"}},570:{pagination:{el:".main-slider__dots",clickable:!0},navigation:!1}}});if(document.querySelector(".main-slider__dots").classList.contains("swiper-pagination-bullets")){let e=document.querySelectorAll(".main-slider__img"),t=document.querySelectorAll(".main-slider__dots .swiper-pagination-bullet"),r=0;for(var i=0;i<e.length;i++){if(!e[i].parentNode.classList.contains("swiper-slide-duplicate")){const s=e[i].querySelector("img").getAttribute("src");t[r].style.backgroundImage="url('"+s+"')",r+=1}}}}if(document.querySelector(".products-slider")){new Swiper(".products-slider__item",{slidesPerView:1,speed:600,autoHeight:!0,navigation:{nextEl:".products-slider__arrow_next",prevEl:".products-slider__arrow_prev"},pagination:{el:".products-slider__info",type:"fraction"}})}if(document.querySelector(".brands-slider")){new Swiper(".brands-slider__body",{loop:!0,slidesPerView:1,navigation:{nextEl:".brands-slider__arrow__next",prevEl:".brands-slider__arrow__prev"},breakpoints:{992:{slidesPerView:5},870:{slidesPerView:4},650:{slidesPerView:3},440:{slidesPerView:2}}})}if(document.querySelector(".filter")){var priceSlider=document.querySelector(".price-filter__slider");noUiSlider.create(priceSlider,{start:[0,1e5],connect:!0,step:5e3,tooltips:[wNumb({decimals:0,suffix:"&nbsp₽"}),wNumb({decimals:0,suffix:"&nbsp₽"})],range:{min:0,max:2e5}});const e=document.getElementById("price-start"),t=document.getElementById("price-end");function setPriceValues(){let i,r;""!=e.value&&(i=e.value),""!=t.value&&(r=t.value),priceSlider.noUiSlider.set([i,r])}if(e.addEventListener("change",setPriceValues),t.addEventListener("change",setPriceValues),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){let e=document.querySelector(".filter__title"),t=document.querySelector(".filter__content"),i=document.querySelector(".filter__title img");e.addEventListener("click",(function(e){t.classList.contains("_slide")||(i.classList.toggle("_active"),i.classList.contains("_active")?i.className="_active":i.classList.add("animate__animated","animate__fadeInDown","animate__infinite"),_slideToggle(t))}))}}if(document.querySelector(".images-product__mainslider",".images-product__subslider")){let e=new Swiper(".images-product__subslider",{slidesPerView:4,speed:700});new Swiper(".images-product__mainslider",{slidesPerView:1,speed:700,thumbs:{swiper:e}})}let _slideUp=(e,t=500)=>{e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout(()=>{e.style.display="none",e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duratin"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")},t)},_slideDown=(e,t=500)=>{e.style.removeProperty("display");let i=window.getComputedStyle(e).display;"none"===i&&(i="block"),e.style.display=i;let r=e.offsetHeight;e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=r+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout(()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")},t)},_slideToggle=(e,t=500)=>{if(!e.classList.contains("_slide"))return e.classList.add("_slide"),"none"===window.getComputedStyle(e).display?_slideDown(e,t):_slideUp(e,t)},burger_icon=document.querySelector(".icon-menu"),menu_body=document.querySelector(".menu__body"),logo=document.querySelector(".top-header__column:nth-child(2)");burger_icon.addEventListener("click",(function(e){burger_icon.classList.toggle("_active"),menu_body.classList.toggle("_active"),logo.classList.toggle("_top"),document.body.classList.toggle("lock")}));let menuPage_icon=document.querySelector(".menu-page__burger"),menuPage=document.querySelector(".menu-page__body");if(menuPage_icon.addEventListener("click",(function(e){menuPage.classList.contains("_slide")||(menuPage_icon.classList.toggle("_active"),_slideToggle(menuPage))})),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){let e=document.querySelectorAll(".menu-page__parent>a"),t=document.querySelectorAll(".submenu-page__item");for(let i=0;i<e.length;i++){const r=e[i],s=t[i];r.addEventListener("click",(function(e){e.preventDefault(),s.classList.contains("_slide")||(r.parentElement.classList.toggle("_active"),_slideToggle(s))}))}}else{let e=document.querySelectorAll(".menu-page__parent");for(let t=0;t<e.length;t++){const i=e[t];i.addEventListener("mouseenter",(function(e){i.classList.add("_active")})),i.addEventListener("mouseleave",(function(e){i.classList.remove("_active")}))}}let searchSelect=document.querySelector(".search-page__title"),categoriesSearch=document.querySelector(".categories-search");searchSelect.addEventListener("click",(function(e){categoriesSearch.classList.contains("_slide")||(searchSelect.classList.toggle("_active"),_slideToggle(categoriesSearch))}));let checkboxCategories=document.querySelectorAll(".categories-search__checkbox");for(let e=0;e<checkboxCategories.length;e++){const t=checkboxCategories[e];t.addEventListener("change",(function(e){t.classList.toggle("_active");let i=document.querySelectorAll(".categories-search__checkbox._active");if(i.length>0){searchSelect.classList.add("_categories");let e=searchSelect.querySelector(".search-page__quantity");e.innerHTML=e.getAttribute("data-text")+" "+i.length}else searchSelect.classList.remove("_categories")}))}if(document.querySelector(".products-slider__items")){let e=document.querySelector(".products-slider__item"),t=e.querySelectorAll(".item-product"),i=e.querySelectorAll(".item-product__image");if(screen.width>992)for(let e=0;e<t.length;e++){let r=i[e],s=t[e];r.onmouseenter=function(){this.parentNode.parentElement.classList.add("_hover")},s.onmouseleave=function(){this.classList.remove("_hover")}}}if(document.querySelector(".filter")){let e=document.querySelectorAll(".section-filter__title._spoiler");for(let t=0;t<e.length;t++){const i=e[t],r=i.nextElementSibling;i.addEventListener("click",(function(e){r.classList.contains("_slide")||(i.classList.toggle("_active"),_slideToggle(r))}))}}if(document.querySelector(".product")){let e=document.querySelectorAll(".quantity-product__arrow");if(e.length>0)for(let t=0;t<e.length;t++){const i=e[t],r=document.querySelector(".action-product__current-price"),s=parseInt(priceWithoutSpaces(r.firstChild.data));i.addEventListener("click",(function(e){let t=parseInt(i.closest(".quantity-product").querySelector("input").value);i.classList.contains("quantity-product__arrow_plus")?(t++,r.innerHTML=normalPrice(s*t)+" <span>₽</span>"):t>1&&(t-=1,r.innerHTML=normalPrice(s*t)+" <span>₽</span>"),i.closest(".quantity-product").querySelector("input").value=t}))}}function priceWithoutSpaces(e){return e.replace(/\s/g,"")}function normalPrice(e){return String(e).replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1 ")}if(document.querySelector("._tabs")){let e=document.querySelector("._tabs"),t=document.querySelectorAll(".info-product__title"),i=document.querySelectorAll(".info-product__text");function hideTabContent(e){for(let r=e;r<i.length;r++)i[r].classList.remove("_show"),i[r].classList.add("_hide"),t[r].classList.remove("_active")}function showTabContent(e){i[e].classList.contains("_hide")&&(i[e].classList.remove("_hide"),i[e].classList.add("_show"),t[e].classList.add("_active"))}hideTabContent(1),e.addEventListener("click",(function(e){let i=e.target;if(i&&i.closest(".info-product__title"))for(let e=0;e<t.length;e++)if(i==t[e]||i==t[e].firstChild){hideTabContent(0),showTabContent(e);let r=document.querySelector(".info-product__body");i==t[1]||i==t[1].firstChild?r.classList.add("_transparent"):r.classList.remove("_transparent");break}}))}if(document.querySelector(".same-products__items")){let e=document.querySelector(".product__same"),t=e.querySelectorAll(".item-product"),i=e.querySelectorAll(".item-product__title");if(screen.width>992)for(let e=0;e<t.length;e++){let r=i[e],s=t[e];r.addEventListener("click",(function(e){e.preventDefault();for(let e=0;e<t.length;e++){let i=t[e];i.classList.contains("_click")&&i.classList.remove("_click")}s.classList.add("_click")})),document.documentElement.addEventListener("click",(function(e){e.target.closest(".item-product")||s.classList.remove("_click")}))}}if(document.querySelector(".checkout__order")){let e=document.querySelector(".order-checkout__items").querySelectorAll(".item-order__delete");for(i=0;i<e.length;i++){let t=e[i].parentNode;e[i].addEventListener("click",(function(e){e.preventDefault(),t.classList.add("animate__animated","animate__bounceOut"),setTimeout((function(){t.style.display="none"}),1e3)}))}}const tabs=document.querySelector(".content-checkout__nav"),tabsBtn=document.querySelectorAll(".content-checkout__item"),tabsContent=document.querySelectorAll(".content-checkout__block"),tabsHandler=e=>{tabsBtn.forEach(e=>{e.classList.remove("_active")}),document.querySelector(`[data-tabs-path="${e}"]`).classList.add("_active"),tabsContent.forEach(e=>{e.classList.remove("_active")}),document.querySelector(`[data-tabs-target="${e}"]`).classList.add("_active")};tabs&&tabs.addEventListener("click",e=>{if(e.target.classList.contains("content-checkout__item")){const i=e.target.dataset.tabsPath;t=i,tabsBtn.forEach(e=>{e.classList.remove("_active")}),document.querySelector(`[data-tabs-path="${t}"]`).classList.add("_active"),tabsContent.forEach(e=>{e.classList.remove("_active")}),document.querySelector(`[data-tabs-target="${t}"]`).classList.add("_active")}var t});